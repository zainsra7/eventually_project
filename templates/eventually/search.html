{% extends 'eventually/base.html' %}
{% load staticfiles %}

{% block css_block %}
<link href="{% static 'eventually/css/search.css' %}" type="text/css" rel="stylesheet" />
{% endblock %}

{% block title_block %}
Search
{% endblock %}

{% block body_block %}

<!-- Search bar -->
<nav class="container white" id="search-container">

    <div class="nav-wrapper w3-animate-left" style="flex: 2">
        <form id="search-form" method="POST" action="{% url 'search' %}">
            {% csrf_token %}
            <div class="input-field">
                <input id="search" name="search" type="search" placeholder="Search for event name, tags, location" required>
                <label class="label-icon" for="search"><i class="material-icons grey-text">search</i></label>
                <i class="material-icons grey-text" id="empty-search">close</i>
            </div>
            
        
   </div>    

    <!-- Filter dropdown trigger -->
    <a class='dropdown-button btn w3-animate-right' href='#' data-target='filter'>Filter</a>

    <!-- Filter dropdown structure -->
    <ul id='filter' class='dropdown-content'>
        <li><a href="#!">Upcoming</a></li>
        <li><a href="#!">Past</a></li>
        <li><a href="#!">All</a></li>
    </ul>

    <!-- Sort dropdown trigger -->
    <a class='dropdown-button btn w3-animate-right' href='#' data-target='sort'>Sort</a>

    <!-- Sort dropdown structure -->
    <ul id='sort' class='dropdown-content'>
        <li><a href="#!">Date</a></li>
        <li><a href="#!">Popularity</a></li>
    </ul>

    <!-- Search button -->
   <button id="search-button" class='btn w3-animate-right' type='submit'>Search</button>
</form>
</nav>


<!-- Events -->
<div class="container" id="events-container">
    {% if events %}
    {% for event in events %}
    <div class="col s12 m7 w3-animate-zoom">
        <a href="{% url 'event' event.id %}">
            <div class="card horizontal">
                <div class="date">
                    <span class="day">{{ event.date|date:"d" }}</span>
                    <span class="month">{{ event.date|date:"M" }}</span>
                    <span class="year">{{ event.date|date:"Y" }}</span>
                </div>
                <div class="card-image">
                    <img src="{{ event.image }}">
                </div>
                <div class="card-stacked">
                    <div class="card-content">
<<<<<<< HEAD
                        <div class="card-title">{{ event.title }}</div>
                        <p><i class="material-icons">location_on</i> <b>Location: {{ event.address }}</b></p>
                        <p><i class="material-icons">group</i> <b>Attendees: /{{ event.capacity }}</b></p>
=======
                        <div class="card-title">Event namemkmkamsmdkasldmklamsdaklmsdaksdml</div>
                        <p><i class="material-icons">location_on</i> <b>Location: </b></p>
                        <p><i class="material-icons">group</i> <b>Attendees: </b></p>
>>>>>>> e96f4d69287868d368f34a252e8b6b887338e0cd
                    </div>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
    {% else %}
    <p id="no-events">No events</p>
    {% endif %}
</div>

<!-- Pagination -->
{% if events.has_other_pages %}
<div class="container w3-animate-zoom" id="pagination-container">
    <ul class="pagination">
        {% if events.has_previous %}
        <li class="waves-effect"><a href="?page={{ events.previous_page_number }}"><i class="material-icons">chevron_left</i></a></li>
        {% else %}
        <li class="disabled"><a><i class="material-icons">chevron_left</i></a></li>
        {% endif %}
        {% for i in events.paginator.page_range %}
        {% if events.number == i %}
        <li class="active blue-grey"><a>{{ i }} <span class="sr-only">(current)</span></a></li>
        {% else %}
        <li class="waves-effect"><a href="?page={{ i }}">{{ i }}</a></li>
        {% endif %}
        {% endfor %}
        {% if events.has_next %}
        <li class="waves-effect"><a href="?page={{ events.next_page_number }}"><i class="material-icons">chevron_right</i></a></li>
        {% else %}
        <li class="disabled"><a><i class="material-icons">chevron_right</i></a></li>
    </ul>
    {% endif %}
</div>
{% endif %}

{% endblock %}